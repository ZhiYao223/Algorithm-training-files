1. 不要返回栈上的局部变量的指针或引用，但可以返回堆上的变量的指针或引用
- 要保证函数内部分配的内存在函数结束执行后不被释放，依然可用，就需要使用堆空间：
```cpp
double* f()
{
    double* p = new double;
    *p = 3.14;
    return p;
}
```
2. 在定义任何C++内置类型的局部变量时请务必对其赋予初始值。
3. 对只读变量加上const限定符是一个非常好的编码习惯。
4. 千万不要用`==` 或 `!=` 运算符验证两个浮点数是否相等。
   - 即使数学上相对的小数，由于计算机内部表示的不一致，用 == 或 != 运算符比较二者时依然会认为它们不相等。

### 位运算符

1. 求2的次幂数，当需要使用$2^a$ 时，用左移运算(1<<a)。int类型a不超过31，否则出错。

   ```cpp
   int i = 1<<3;		//i的值为8
   ```

2. 乘或除2的次方

   ```cpp
   int i = 100;
   int j = i<<3;  //相当于i*8, 结果为800
   int k = i>>3;  //相当于i/8, 结果为12
   ```

3. 求临近的自然数

   - 异或运算可以求临近的自然数，xor表示异或运算； `2 xor 1 = 3`, `3 xor 1 = 2`
   - 奇数的末位二进制位一定是 1，与1异或时末位二进制位会变成 0，因此奇数与 1做异或运算的结果为：该奇数减 1；
   - 对于偶数，其末位二进制位一定是0，与1做异或运算，末位二进制位会变成 1

   ```cp
   x xor 1 = x - 1		//x 是奇数
   x xor 1 = x + 1 	//x 是偶数
   ```



